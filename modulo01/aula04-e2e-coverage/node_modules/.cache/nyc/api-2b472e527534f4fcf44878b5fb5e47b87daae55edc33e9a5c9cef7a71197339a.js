function cov_dp7hb1pe2(){var path="/home/gabrielvrl/Desktop/JSExpert/modulo01/aula04-e2e-coverage/src/api.js";var hash="15b7968d6f0b6f9a595d013686f873328718164b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/gabrielvrl/Desktop/JSExpert/modulo01/aula04-e2e-coverage/src/api.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:28}},"1":{start:{line:2,column:17},end:{line:2,column:34}},"2":{start:{line:4,column:21},end:{line:7,column:1}},"3":{start:{line:9,column:15},end:{line:36,column:1}},"4":{start:{line:11,column:4},end:{line:11,column:38}},"5":{start:{line:12,column:4},end:{line:12,column:26}},"6":{start:{line:16,column:17},end:{line:16,column:44}},"7":{start:{line:17,column:23},end:{line:17,column:39}},"8":{start:{line:18,column:20},end:{line:18,column:48}},"9":{start:{line:18,column:30},end:{line:18,column:48}},"10":{start:{line:20,column:4},end:{line:27,column:5}},"11":{start:{line:24,column:6},end:{line:24,column:30}},"12":{start:{line:25,column:6},end:{line:25,column:38}},"13":{start:{line:26,column:6},end:{line:26,column:13}},"14":{start:{line:30,column:4},end:{line:30,column:38}},"15":{start:{line:33,column:4},end:{line:33,column:28}},"16":{start:{line:34,column:4},end:{line:34,column:38}},"17":{start:{line:39,column:26},end:{line:39,column:33}},"18":{start:{line:40,column:19},end:{line:40,column:65}},"19":{start:{line:41,column:17},end:{line:41,column:51}},"20":{start:{line:43,column:2},end:{line:43,column:35}},"21":{start:{line:46,column:12},end:{line:47,column:51}},"22":{start:{line:47,column:20},end:{line:47,column:50}},"23":{start:{line:49,column:0},end:{line:49,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:18},end:{line:10,column:19}},loc:{start:{line:10,column:41},end:{line:13,column:3}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:15,column:17},end:{line:15,column:18}},loc:{start:{line:15,column:46},end:{line:31,column:3}},line:15},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:20},end:{line:18,column:21}},loc:{start:{line:18,column:30},end:{line:18,column:48}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:32,column:2},end:{line:32,column:3}},loc:{start:{line:32,column:28},end:{line:35,column:3}},line:32},"4":{name:"handler",decl:{start:{line:38,column:9},end:{line:38,column:16}},loc:{start:{line:38,column:36},end:{line:44,column:1}},line:38},"5":{name:"(anonymous_5)",decl:{start:{line:47,column:14},end:{line:47,column:15}},loc:{start:{line:47,column:20},end:{line:47,column:50}},line:47}},branchMap:{"0":{loc:{start:{line:20,column:4},end:{line:27,column:5}},type:"if",locations:[{start:{line:20,column:4},end:{line:27,column:5}},{start:{line:20,column:4},end:{line:27,column:5}}],line:20},"1":{loc:{start:{line:21,column:6},end:{line:22,column:51}},type:"binary-expr",locations:[{start:{line:21,column:6},end:{line:21,column:69}},{start:{line:22,column:6},end:{line:22,column:51}}],line:21},"2":{loc:{start:{line:41,column:17},end:{line:41,column:51}},type:"binary-expr",locations:[{start:{line:41,column:17},end:{line:41,column:33}},{start:{line:41,column:37},end:{line:41,column:51}}],line:41}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"15b7968d6f0b6f9a595d013686f873328718164b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_dp7hb1pe2=function(){return actualCoverage;};}return actualCoverage;}cov_dp7hb1pe2();const http=(cov_dp7hb1pe2().s[0]++,require('http'));const{once}=(cov_dp7hb1pe2().s[1]++,require('events'));const DEFAULT_USER=(cov_dp7hb1pe2().s[2]++,{username:'Gabriel',password:'123'});const routes=(cov_dp7hb1pe2().s[3]++,{'/contact:get':(request,response)=>{cov_dp7hb1pe2().f[0]++;cov_dp7hb1pe2().s[4]++;response.write('contact us page');cov_dp7hb1pe2().s[5]++;return response.end();},// curl -X POST --data '{"username": "Gabriel","password": "123"}' localhost:3000/login
'/login:post':async(request,response)=>{cov_dp7hb1pe2().f[1]++;const user=(cov_dp7hb1pe2().s[6]++,await once(request,'data'));const parsedUser=(cov_dp7hb1pe2().s[7]++,JSON.parse(user));cov_dp7hb1pe2().s[8]++;const toLower=text=>{cov_dp7hb1pe2().f[2]++;cov_dp7hb1pe2().s[9]++;return text.toLowerCase();};cov_dp7hb1pe2().s[10]++;if((cov_dp7hb1pe2().b[1][0]++,toLower(parsedUser.username)!==toLower(DEFAULT_USER.username))||(cov_dp7hb1pe2().b[1][1]++,parsedUser.password!==DEFAULT_USER.password)){cov_dp7hb1pe2().b[0][0]++;cov_dp7hb1pe2().s[11]++;response.writeHead(401);cov_dp7hb1pe2().s[12]++;response.end('Logging failed!');cov_dp7hb1pe2().s[13]++;return;}else{cov_dp7hb1pe2().b[0][1]++;}cov_dp7hb1pe2().s[14]++;return response.end("Logged in!");},default(request,response){cov_dp7hb1pe2().f[3]++;cov_dp7hb1pe2().s[15]++;response.writeHead(404);cov_dp7hb1pe2().s[16]++;return response.end('Not found!');}});function handler(request,response){cov_dp7hb1pe2().f[4]++;const{url,method}=(cov_dp7hb1pe2().s[17]++,request);const routeKey=(cov_dp7hb1pe2().s[18]++,`${url.toLowerCase()}:${method.toLowerCase()}`);const chosen=(cov_dp7hb1pe2().s[19]++,(cov_dp7hb1pe2().b[2][0]++,routes[routeKey])||(cov_dp7hb1pe2().b[2][1]++,routes.default));cov_dp7hb1pe2().s[20]++;return chosen(request,response);}const app=(cov_dp7hb1pe2().s[21]++,http.createServer(handler).listen(3000,()=>{cov_dp7hb1pe2().f[5]++;cov_dp7hb1pe2().s[22]++;return console.log('Running at 3000');}));cov_dp7hb1pe2().s[23]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb3ZfZHA3aGIxcGUyIiwiYWN0dWFsQ292ZXJhZ2UiLCJodHRwIiwicyIsInJlcXVpcmUiLCJvbmNlIiwiREVGQVVMVF9VU0VSIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInJvdXRlcyIsIi9jb250YWN0OmdldCIsInJlcXVlc3QiLCJyZXNwb25zZSIsImYiLCJ3cml0ZSIsImVuZCIsIi9sb2dpbjpwb3N0IiwidXNlciIsInBhcnNlZFVzZXIiLCJKU09OIiwicGFyc2UiLCJ0b0xvd2VyIiwidGV4dCIsInRvTG93ZXJDYXNlIiwiYiIsIndyaXRlSGVhZCIsImRlZmF1bHQiLCJoYW5kbGVyIiwidXJsIiwibWV0aG9kIiwicm91dGVLZXkiLCJjaG9zZW4iLCJhcHAiLCJjcmVhdGVTZXJ2ZXIiLCJsaXN0ZW4iLCJjb25zb2xlIiwibG9nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBodHRwID0gcmVxdWlyZSgnaHR0cCcpO1xuY29uc3QgeyBvbmNlIH0gPSByZXF1aXJlKCdldmVudHMnKTtcblxuY29uc3QgREVGQVVMVF9VU0VSID0ge1xuICB1c2VybmFtZTogJ0dhYnJpZWwnLFxuICBwYXNzd29yZDogJzEyMydcbn1cblxuY29uc3Qgcm91dGVzID0ge1xuICAnL2NvbnRhY3Q6Z2V0JzogKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgcmVzcG9uc2Uud3JpdGUoJ2NvbnRhY3QgdXMgcGFnZScpO1xuICAgIHJldHVybiByZXNwb25zZS5lbmQoKTtcbiAgfSxcbiAgLy8gY3VybCAtWCBQT1NUIC0tZGF0YSAne1widXNlcm5hbWVcIjogXCJHYWJyaWVsXCIsXCJwYXNzd29yZFwiOiBcIjEyM1wifScgbG9jYWxob3N0OjMwMDAvbG9naW5cbiAgJy9sb2dpbjpwb3N0JzogYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgY29uc3QgdXNlciA9IGF3YWl0IG9uY2UocmVxdWVzdCwgJ2RhdGEnKTtcbiAgICBjb25zdCBwYXJzZWRVc2VyID0gSlNPTi5wYXJzZSh1c2VyKTtcbiAgICBjb25zdCB0b0xvd2VyID0gKHRleHQpID0+IHRleHQudG9Mb3dlckNhc2UoKTtcbiAgICBcbiAgICBpZihcbiAgICAgIHRvTG93ZXIocGFyc2VkVXNlci51c2VybmFtZSkgIT09IHRvTG93ZXIoREVGQVVMVF9VU0VSLnVzZXJuYW1lKSB8fCBcbiAgICAgIHBhcnNlZFVzZXIucGFzc3dvcmQgIT09IERFRkFVTFRfVVNFUi5wYXNzd29yZFxuICAgICkge1xuICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDQwMSk7XG4gICAgICByZXNwb25zZS5lbmQoJ0xvZ2dpbmcgZmFpbGVkIScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuXG4gICAgcmV0dXJuIHJlc3BvbnNlLmVuZChcIkxvZ2dlZCBpbiFcIik7XG4gIH0sXG4gIGRlZmF1bHQocmVxdWVzdCwgcmVzcG9uc2Upe1xuICAgIHJlc3BvbnNlLndyaXRlSGVhZCg0MDQpO1xuICAgIHJldHVybiByZXNwb25zZS5lbmQoJ05vdCBmb3VuZCEnKTsgIFxuICB9XG59XG5cbmZ1bmN0aW9uIGhhbmRsZXIocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgY29uc3QgeyB1cmwsIG1ldGhvZCB9ID0gcmVxdWVzdDtcbiAgY29uc3Qgcm91dGVLZXkgPSBgJHt1cmwudG9Mb3dlckNhc2UoKX06JHttZXRob2QudG9Mb3dlckNhc2UoKX1gXG4gIGNvbnN0IGNob3NlbiA9IHJvdXRlc1tyb3V0ZUtleV0gfHwgcm91dGVzLmRlZmF1bHQ7XG5cbiAgcmV0dXJuIGNob3NlbihyZXF1ZXN0LCByZXNwb25zZSk7XG59XG5cbmNvbnN0IGFwcCA9IGh0dHAuY3JlYXRlU2VydmVyKGhhbmRsZXIpXG4ubGlzdGVuKDMwMDAsICgpID0+IGNvbnNvbGUubG9nKCdSdW5uaW5nIGF0IDMwMDAnKSlcblxubW9kdWxlLmV4cG9ydHMgPSBhcHA7Il0sIm1hcHBpbmdzIjoib2xIQWVZO0FBQUFB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